{% extends 'layout.html' %}

{% block title%} 
微型物联网系统
{% endblock %}

{% block content %}
<div class="container">

<div class="row">
	<div class="col-sm-2">
        <div class="list-group">
            <a href="#" class="list-group-item active">设备列表</a>
            {% for item in devices %}
            <a href="/devices/{{item.device_id}}/page" class="list-group-item">
            {{item.device_id}}
            </a>
            {% endfor %}
        </div>
    </div>
	<div class="col-sm-10">
    <ol class="breadcrumb">
      <li>设备</li>
      <li class="active">{{device_id}}</li>
    </ol>
		<table id="table"
            data-toggle="table"
            data-url="{{url}}"
            data-height="500"
            data-side-pagination="server"
            data-pagination="true"
            data-page-list="[5, 10, 20]"
            data-search="false"
            data-query-params="query_params">
        <thead>
            <tr>
                <th data-field="id" data-formatter="formatter_id">序号</th>
                <th data-field="device_id">设备编号</th>
                <th data-field="temp">温度</th>
                <th data-field="hum">湿度</th>
                <th data-field="light">光照</th>
                <th data-field="time">时间</th>
            </tr>
        </thead>
        </table>
	</div>
</div>
</div>

<script type="text/javascript">

function formatter_id(value, row, index) {
    return index + 1;
}

function query_params(params) {
    return {limit: params.limit, offset: params.offset}
}

$(function() {
    console.log('ready!');
});
</script>

{% endblock %}